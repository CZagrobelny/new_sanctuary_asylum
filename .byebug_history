continue
save_and_open_page
continue
save_and_open_page
continue
save_and_open_page
continue
params
current_tab
continue
current_tab
continue
save_and_open_page
continue
@asylum_application_draft = friend.asylum_application_drafts.new
continue
@asylum_application_draft = friend.asylum_application_drafts.new
continue
asylum_application_draft_params
asylum_application_draft
continue
@asylum_application_draft = AsylumApplicationDraft.find(params[:id])
friend
params
asylum_application_draft_params
asylum_application_draft
continue
asylum_application_draft = friend.asylum_application_drafts.build(asylum_application_draft_params)
continue
friend
continue
params
continue
@asylum_application_draft ||= AsylumApplicationDraft.find(asylum_application_draft_params[:id])
continue
asylum_application_draft_params
params
continue
params
continue
params
continue
draft.users.map(&:name).to_sentence
draft.users.map(&:name)
continue
d.users
d.save
d.user_ids = [1]
User.first.id
d.user_ids
d = AsylumApplicationDraft.create(friend_id: Friend.first.id)
params
continue
family_member_destroy_params
continue
family_member_destroy_params
continue
family_member_destroy_params
continue
family_member_destroy_params
params
continue
params
continue
params
continue
params
continue
find("##{field_id}_chosen")
field_id = field_id[:from]
continue
field_id = find_field(options[:from])[:id]
continue
find('a.chzn-single').click
continue
field_id = find_field('#family_member_constructor_relation_id')
field_id = find_field('##{options[:from]}')
field_id = find_field(options[:from])
field_id = find_field('Friend')[:id]
options[:from]
field_id = find_field(options[:from])[:id]
continue
save_and_open_page
family_member = Friend.last
continue
save_and_open_page
family_member = Friend.last
continue
Friend.first
Friend.last
save_and_open_page
Friend.count
continue
save_and_open_page
Friend.all.count
continue
select 'Spouse', from: 'Relationship'
continue
save_and_open_page
continue
 @relation_id = params[:relation_id].present? ? params[:relation_id].to_i : nil
 @relation_id = params[:relation_id] ? params[:relation_id].to_i : nil
continue
params[:relation_id]?
params[:relation_id]
 @relation_id = params[:relation_id] ? params[:relation_id].to_i : nil
@relation_id
continue
@relation_id
continue
self
continue
params[:relation_id]
params[:relation_id].to_i || nil
continue
self
continue
display_validation_errors(family_member_constructor)
family_member_constructor
continue
self
continue
self
continue
family_member_constructor.errors.full_messages
family_member_constructor.errors.messages
family_member_constructor.errors
family_member_constructor
continue
family_member_constructor
@family_member_constructor
continue
@family_member_constructor
family_member_constructor
continue
family_member_constructor
friend
continue
self.errors.messages
self.valid?
self
continue
family_member_constructor.valid?
family_member_constructor = FamilyMemberConstructor.new(family_member_constructor_params)
family_member_constructor_params[:params]
family_member_constructor = FamilyMemberConstructor.new(params: family_member_constructor_params)
family_member_constructor_params
continue
family_member_constructor_params
continue
params
family_member_params
continue
params
self
continue
params
params[:related_id]
SpousalRelationship.create(friend_id: params[:friend_id], spouse_id: params[:related_id])
params[:relationship]
continue
ParentChildRelationship.new(parent_id: 1)
ParentChildRelationship.new(parent_id: params[:relation_id].to_i, child_id: params[:friend_id].to_i)
params[:friend_id].to_i
params[:relation_id].to_i
ParentChildRelationship.create(parent_id: params[:relation_id].to_i, child_id: params[:friend_id].to_i)
continue
ParentChildRelationship.create(parent_id: params[:relation_id], child_id: params[:friend_id].to
ParentChildRelationship.create(parent_id: params[:relation_id], child_id: params[:friend_id])
params[:relation_id]
child_id: params[:relation_id]
params[:friend_id]
params[:relationship]
params
Parentparams
continue
friend
continue
@friend
friend
continue
friend
continue
friend
continue
friend
continue
@friend
friend
continue
family_member
continue
family_member_params['friend_id']
params['friend_id']
continue
family_member
continue
    8:     end
    7:       format.js
respond_to do |format|
family_member = FamilyMember.create(family_member_params)
continue
family_member_params
FamilyMember.create(family_member_params)
continue
f.errors
f = FamilyMember.create(family_member_params)
FamilyMember.create(family_member_params)
continue
save_and_open_page
continue
save_and_open_page
continue
save_and_open_page
continue
save_and_open_page
continue
save_and_open_page
visit confirmation_link
logout(admin)
confirmation_link = URI.extract(ActionMailer::Base.deliveries.first.text_part.body.to_s)[1]
click_button 'Send an invitation'
fill_in 'Email', with: email
visit new_user_invitation_path
login_as(admin)
save_and_open_page
continue
save_and_open_page
continue
save_and_open_page
continue
ActionMailer::Base.deliveries.first.html_part.body.to_s
ActionMailer::Base.deliveries.first.text_part.body.to_s
ActionMailer::Base.deliveries.first.body
continue
ActionMailer::Base.deliveries.first.body.raw_source
click_button 'Send an invitation'
ActionMailer::Base.deliveries.first.body.raw_source
ActionMailer::Base.deliveries.first.body
ActionMailer::Base.deliveries.first
invitation.raw_invitation_token
@token
ActionMailer::Base.deliveries
click_button 'Send an invitation'
continue
params
continue
params
continue
params
continue
save_and_open_page
visit accept_user_invitation_path(invitation_token: invited_user.reload.invitation_token)
invited_user.invitation_token
invited_user
save_and_open_page
