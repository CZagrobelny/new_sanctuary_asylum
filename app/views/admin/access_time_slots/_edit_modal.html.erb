<div id="modal_access_time_slot_<%= access_time_slot.id %>" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Edit Access Time Slot</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          <div id='access_time_slot_<%= access_time_slot.id %>_form'>
            <%= form_for [current_community, :admin, access_time_slot] do |f| %>
              <div class='form-inputs'>
                <div class='row form-group'>
                  <%= f.label :grantee_id, 'User', class: 'col-md-2 control-label' %>
                  <div class='col-md-6'>
                    <%= collection_select(:access_time_slot, :grantee_id, current_community.users.where(role: [:data_entry]), :id, :name, {selected: access_time_slot.grantee_id}, {prompt: true, class: 'form-control'}) %>
                  </div>
                </div>
                <%= f.hidden_field :grantor_id, value: current_user.id %>

                <div class='row form-group'>
                  <%= f.label :use, 'Use', class: 'col-md-2 col-xs-12 control-label' %>
                  <div class='col-md-6'>
                    <%= f.select(:use, AccessTimeSlot::USES.map { |use| [use.humanize, use] }, {prompt: true}, class: 'form-control') %>
                  </div>
                </div>

                <div class='row form-group'>
                  <%= f.label :start_time, 'Start', class: 'col-md-2 control-label' %>
                  <div class='col-md-4 date-picker-wrapper'>
                    <%= text_field_tag :start_date, Date.today, class: 'form-control datepicker' %>
                    <%= f.hidden_field 'start_time(1i)', value: Date.today.strftime('%Y'), class: 'year' %>
                    <%= f.hidden_field 'start_time(2i)', value: Date.today.strftime('%m'), class: 'month' %>
                    <%= f.hidden_field 'start_time(3i)', value: Date.today.strftime('%d'), class: 'date' %>
                  </div>

                  <div class='col-md-6'>
                    <%= f.time_select :start_time, { ignore_date: true, prompt: true, minute_step: 15,ampm: true }, {class: 'form-control inline-date-select'} %>
                    <span>ET
                  </div>
                </div>

                <div class='row form-group'>
                  <%= f.label :end_time, 'End', class: 'col-md-2 control-label' %>
                  <div class='col-md-4 date-picker-wrapper'>
                    <%= text_field_tag :end_date, Date.today, class: 'form-control datepicker' %>
                    <%= f.hidden_field 'end_time(1i)', value: Date.today.strftime('%Y'), class: 'year' %>
                    <%= f.hidden_field 'end_time(2i)', value: Date.today.strftime('%m'), class: 'month' %>
                    <%= f.hidden_field 'end_time(3i)', value: Date.today.strftime('%d'), class: 'date' %>
                  </div>

                  <div class='col-md-6'>
                    <%= f.time_select :end_time, { ignore_date: true, prompt: true, minute_step: 15, ampm: true }, {class: 'form-control inline-date-select'} %>
                    <span>ET
                  </div>
                </div>
              </div>

              <div class='row'>
                <div class='col-md-1 col-md-offset-10'>
                  <%= f.submit 'Save', class: 'btn btn-success' %>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function(){
    $('.datepicker').change(function() {
      var dateArray = this.value.split('/')
      $(this).siblings('.month').val(dateArray[0]);
      $(this).siblings('.date').val(dateArray[1]);
      $(this).siblings('.year').val(dateArray[2]);
    });
  });
</script>
